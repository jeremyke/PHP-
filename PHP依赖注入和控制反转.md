 ## PHP依赖注入和控制反转（DI&&IoC）
 >User: Jeremy.Ke
 >Time: 2019/4/3 17:32

 #### 1 理论分析
 
 - 1.1 概念
 >依赖注入和控制反转是对同一件事情的不同描述，从某个方面讲，就是它们描述的角度不同。
 
 (1)依赖注入是从应用程序的角度在描述，可以把依赖注入，即：应用程序依赖容器创建并注入它所需要的外部资源；
 
 (2)而控制反转是从容器的角度在描述，即：容器控制应用程序，由容器反向的向应用程序注入应用程序所需要的外部资源.
 
 - 1.2 优势
 >使用依赖注入，最重要的一点好处就是有效的分离了对象和它所需要的外部资源，使得它们松散耦合，有利于功能复用，更重要的是使得程序的整个体系结构变得非常灵活。
 
 - 1.3 自问自答
 
 （1）整个过程中的参与者？
 ``` 
 一般有三方参与者，一个是某个对象；一个是IoC/DI的容器；另一个是某个对象的外部资源。
    
 其一：某个对象指的就是任意的、普通的PHP对象; 
    
 其二：IoC/DI的容器简单点说就是指用来实现IoC/DI功能的一个框架程序；
    
 其三：对象的外部资源指的就是对象需要的，但是是从对象外部获取的，都统称资源，比如：对象需要的其它对象、或者是对象需要的文件资源等等。

 ```
 
 （2）谁依赖于谁？为什么需要依赖？
 >某个对象依赖于IoC/DI的容器,对象需要IoC/DI的容器来提供对象需要的外部资源.
 
 （3）谁注入于谁?注入什么?
 >IoC/DI的容器 注入(某些资源到)某个对象，注入的对象所需的资源。
 
 （4）控制什么？为何叫反转？什么是正转？
 >主要是控制对象实例的创建。<br/>
  A类的实例化需要资源B,直接在A类中去获取配置文件或者实例化B获取资源B，叫做正转；<br/>
  A类不再主动去获取C，而是被动等待，等待IoC/DI的容器获取一个C的实例，然后反向的注入到A类中，叫做反转。<br/>
  
  图解：
  
  ![image](https://github.com/jeremyke/PHPBlog/blob/master/Pictures/1561401590ewrew.png)
  ![image](https://github.com/jeremyke/PHPBlog/blob/master/Pictures/1561401640hjk.png)
  
 
 
